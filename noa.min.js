document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("bg-music"),t=document.querySelectorAll(".dot"),n=document.querySelector(".song-title"),i=document.querySelector(".artist-name"),o=document.querySelector(".song-description"),s=document.querySelector(".music-details"),l=document.querySelectorAll(".sound-on"),a=document.querySelectorAll(".sound-off"),c=[document.querySelector(".hero_inital-text-wrap"),document.querySelector(".hero_why-wrap"),document.querySelector(".hero_what-wrap")];let r=null,d=!1,y=null,u=!1;function p(t,l=!1){if(!l&&t===r&&!e.paused)return e.pause(),e.currentTime=0,t.classList.remove("active"),r=null,u=!1,m(!0),void v();const a=t.getAttribute("data-song"),p=t.getAttribute("data-title"),h=t.getAttribute("data-artist"),f=t.getAttribute("data-description");a&&e.src!==a&&(e.src=a,e.currentTime=0),e.muted=d;const w=e.play();w&&w.catch((()=>{document.addEventListener("click",(()=>e.play()),{once:!0})})),l||(n.textContent=p||"",i.textContent=h||"",o.innerHTML=f||"",function(){document.dispatchEvent(new Event("musicDetailsShow")),u=!0,c.forEach((e=>{e.classList.contains("hero_inital-text-wrap")?(e.style.transition="none",e.style.opacity="0",e.style.visibility="hidden"):e.style.opacity="0"})),s.style.transition="none",s.style.display="block",s.style.opacity="1",y&&clearTimeout(y);y=setTimeout((()=>m(!1)),5e3)}()),r&&r.classList.remove("active"),t.classList.add("active"),r=t}function m(e=!1){u||!e?(u=!1,s.style.transition="none",s.style.opacity="0",s.style.display="none",v()):s.style.display="none"}function v(){const e=c.find((e=>"visible"===e.style.visibility||"1"===e.style.opacity));if(e)e.style.opacity="1",e.style.visibility="visible";else{const e=c[0];e&&(e.style.visibility="visible",e.style.opacity="1")}}e.volume=.5,e.muted=!1,l.forEach((e=>e.style.display="block")),a.forEach((e=>e.style.display="none")),s.style.display="none",e.addEventListener("ended",(()=>{e.currentTime=0,e.play()})),document.querySelectorAll(".sound-on, .sound-off").forEach((t=>{t.addEventListener("click",(t=>{t.stopPropagation(),e.paused&&r&&e.play(),d=!d,e.muted=d,l.forEach((e=>e.style.display=d?"none":"block")),a.forEach((e=>e.style.display=d?"block":"none"))}))})),t.forEach((e=>e.addEventListener("click",(()=>p(e)))));const h=t[0];if(h){const t=h.getAttribute("data-song");if(t){e.src=t,h.classList.add("active"),r=h;const n=e.play();n&&n.catch((()=>{document.addEventListener("click",(()=>e.play()),{once:!0})}))}}window.addEventListener("wheel",(()=>{u&&m(!0)})),window.hideMusicDetails=m})),document.addEventListener("DOMContentLoaded",(()=>{const e=[document.querySelector(".hero_inital-text-wrap"),document.querySelector(".hero_why-wrap"),document.querySelector(".hero_what-wrap")],t=document.querySelector(".music-details"),n=document.querySelector(".why-link"),i=document.querySelector(".what-link"),o=document.querySelector(".why-link.is-mobile"),s=document.querySelector(".what-link.is-mobile");let l=0,a=!1;function c(n){t&&"block"===t.style.display||e.forEach(((e,t)=>{const i=e.querySelector(".hero-heading"),o=e.querySelector(".hero-paragraph");i&&o&&(t===n?(e.style.visibility="visible",e.style.opacity="1",i.style.opacity="1",o.style.opacity="1",i.style.transform="translateY(0)",o.style.transform="translateY(0)",i.style.transition="opacity 0.8s ease, transform 0.8s ease",o.style.transition="opacity 0.8s ease 0.1s, transform 0.8s ease 0.1s"):(e.style.opacity="0",i.style.opacity="0",o.style.opacity="0",i.style.transform="translateY(30px)",o.style.transform="translateY(30px)",i.style.transition="opacity 0.6s ease, transform 0.6s ease",o.style.transition="opacity 0.6s ease, transform 0.6s ease",e.style.visibility="hidden"))}))}c(l),window.addEventListener("musicDetailsShow",(()=>{if(0===l){const t=e[0];if(t){t.style.transition="none",t.style.opacity="0",t.style.visibility="hidden";const e=t.querySelector(".hero-heading"),n=t.querySelector(".hero-paragraph");e&&n&&(e.style.transition="none",n.style.transition="none",e.style.opacity="0",n.style.opacity="0",e.style.transform="translateY(30px)",n.style.transform="translateY(30px)")}}})),window.addEventListener("wheel",(function(n){a||(a=!0,t&&"block"===t.style.display&&(t.style.display="none",t.style.opacity="0",window.hideMusicDetails&&window.hideMusicDetails(!0)),n.deltaY>0&&l<e.length-1?(l++,c(l)):n.deltaY<0&&l>0&&(l--,c(l)),setTimeout((()=>a=!1),800))}));let r=0,d=0;function y(e){t&&"block"===t.style.display&&(t.style.display="none",t.style.opacity="0",window.hideMusicDetails&&window.hideMusicDetails(!0)),e!==l&&(c(e),l=e,document.querySelectorAll(".nav-menu-link").forEach((e=>e.classList.remove("active"))),1===e&&(n&&n.classList.add("active"),o&&o.classList.add("active")),2===e&&(i&&i.classList.add("active"),s&&s.classList.add("active")))}window.addEventListener("touchstart",(function(e){r=e.touches[0].clientY}),{passive:!0}),window.addEventListener("touchmove",(function(e){d=e.touches[0].clientY}),{passive:!0}),window.addEventListener("touchend",(function(){const n=r-d;Math.abs(n)<50||a||(a=!0,t&&"block"===t.style.display&&(t.style.display="none",t.style.opacity="0",window.hideMusicDetails&&window.hideMusicDetails(!0)),n>0&&l<e.length-1?(l++,c(l)):n<0&&l>0&&(l--,c(l)),setTimeout((()=>a=!1),800))}),{passive:!0});const u=[n,o].filter(Boolean),p=[i,s].filter(Boolean);u.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),y(1)}))})),p.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),y(2)}))}))})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".music-player-wrapper").forEach((e=>{const t=e.querySelector(".dot"),n=e.querySelector(".tool-tip-wrapper");t&&n&&(t.addEventListener("mouseenter",(()=>{n.style.display="block"})),t.addEventListener("mouseleave",(()=>{n.style.display="none"})))}))})),document.addEventListener("DOMContentLoaded",(function(){if(window.innerWidth>991)return;const e=document.querySelector(".music-details-popup"),t=e?.querySelector(".song-description.is-text-popup"),n=e?.querySelector(".close-popup"),i=document.querySelector(".view-details-button");e&&t&&i&&(i.addEventListener("click",(function(){const n=document.querySelector(".dot.active");if(!n)return;const i=n.getAttribute("data-description");t.innerHTML=i||"No description available.",e.style.display="block",requestAnimationFrame((()=>e.classList.add("active")))})),n&&n.addEventListener("click",(()=>{e.classList.remove("active"),setTimeout((()=>e.style.display="none"),300)})))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".submit-btn"),t=document.querySelector(".email-field"),n=e?.closest("form");if(!e||!t||!n)return;let i=0;const o=()=>{t.style.outline="2px solid rgba(255, 0, 0, 0.6)",setTimeout((()=>t.style.outline=""),1e3)};e.addEventListener("click",(e=>{const n=(t.value||"").trim(),s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n);return window.innerWidth<=768?0!==i?1===i?s?void(i=2):(e.preventDefault(),void o()):void 0:void(i=1):s?void 0:(e.preventDefault(),void o())}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".nav-logo");e&&e.addEventListener("click",(e=>{e.preventDefault(),location.reload()}))}));
